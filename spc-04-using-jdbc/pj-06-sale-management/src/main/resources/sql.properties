sql.sale.history.select=SELECT sh.id, sh.sale_person, sh.sale_at, SUM(sp.quantity) itemCount, \
	SUM(sp.unit_price * sp.quantity) totalAmount FROM sale_history sh JOIN sale_product sp \
	ON sh.id = sp.sale_id WHERE %s GROUP BY sh.id, sh.sale_person, sh.sale_at
	
sql.sale.history.insert=INSERT INTO sale_history (sale_person) VALUES (:salePerson)

sql.sale.product.select=SELECT sp.sale_id id, sp.code productCode, p.name productName, sp.unit_price, sp.quantity \
	FROM sale_product sp JOIN sale_history sh ON sp.sale_id = sh.id \
	JOIN product p on p.code = sp.code WHERE sp.sale_id = :saleId

sql.sale.product.insert=INSERT INTO sale_product VALUES (:productCode, :saleId, :unitPrice, :quantity)